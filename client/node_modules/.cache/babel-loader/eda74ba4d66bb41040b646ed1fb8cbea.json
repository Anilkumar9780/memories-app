{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\social_memories\\\\client\\\\src\\\\components\\\\UserProfile\\\\Profile.js\";\nimport React, { useEffect, useState } from 'react'; //packages\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport moment from 'moment'; // packages ui\n\nimport { CircularProgress, Divider, Typography, Avatar, Button, Card, CardHeader, CardContent, CardMedia, IconButton, ButtonBase, CardActions } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ShareIcon from '@material-ui/icons/Share';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreVertIcon from '@material-ui/icons/MoreVert'; //component\n\nimport { follow, unFollow, userProfile } from '../../actions/Posts';\n\nconst Profile = () => {\n  var _users$result, _users$result2, _user$following, _user$followers, _user$following2, _users$result3;\n\n  const {\n    id\n  } = useParams();\n  const {\n    user,\n    userPosts,\n    isLoading\n  } = useSelector(state => state.posts);\n  const users = JSON.parse(localStorage.getItem('profile'));\n  const dispatch = useDispatch();\n  const url = \"http://localhost:5000/\";\n  const navigate = useNavigate();\n  const followId = (users === null || users === void 0 ? void 0 : (_users$result = users.result) === null || _users$result === void 0 ? void 0 : _users$result.googleId) || (users === null || users === void 0 ? void 0 : (_users$result2 = users.result) === null || _users$result2 === void 0 ? void 0 : _users$result2._id);\n  const [showfollow, setShowFollow] = useState(user ? !(user === null || user === void 0 ? void 0 : (_user$following = user.following) === null || _user$following === void 0 ? void 0 : _user$following.includes(followId)) : true);\n  console.log(followId); //dispatch user profile req\n\n  useEffect(() => {\n    dispatch(userProfile(id));\n  }, [id]); //post deatil page \n\n  const openPost = id => navigate(`/posts/${id}`);\n  /**\r\n   * follow user by user id\r\n   * @param {object} user \r\n   */\n\n\n  const handleFollowUser = user => {\n    dispatch(follow(followId, user));\n    setShowFollow(false);\n  };\n  /**\r\n   * unfollow user \r\n   * @param {object} user \r\n   */\n\n\n  const hnadleUnFollowUSer = user => {\n    const unFollowId = followId;\n    dispatch(unFollow(unFollowId, user));\n    setShowFollow(true);\n  };\n\n  return isLoading ? /*#__PURE__*/React.createElement(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: \"550px\",\n      margin: \"0px auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\",\n      margin: \"18px 0px\",\n      borderBottom: \"1px solid grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    style: {\n      width: \"160px\",\n      height: \"160px\",\n      borderRadius: \"80px\"\n    },\n    alt: user === null || user === void 0 ? void 0 : user.name,\n    src: user === null || user === void 0 ? void 0 : user.imageUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, user === null || user === void 0 ? void 0 : user.name.charAt(0))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, \" \", user === null || user === void 0 ? void 0 : user.name), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, user === null || user === void 0 ? void 0 : user.email), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"108%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  }, userPosts === null || userPosts === void 0 ? void 0 : userPosts.length, \" posts\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, user === null || user === void 0 ? void 0 : (_user$followers = user.followers) === null || _user$followers === void 0 ? void 0 : _user$followers.length, \" followers\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, user === null || user === void 0 ? void 0 : (_user$following2 = user.following) === null || _user$following2 === void 0 ? void 0 : _user$following2.length, \" following\")), (users === null || users === void 0 ? void 0 : (_users$result3 = users.result) === null || _users$result3 === void 0 ? void 0 : _users$result3._id) === (user === null || user === void 0 ? void 0 : user._id) ? null : /*#__PURE__*/React.createElement(React.Fragment, null, showfollow ? /*#__PURE__*/React.createElement(Button, {\n    style: {\n      margin: \"10px\"\n    },\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: () => handleFollowUser(user),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }\n  }, \"Follow\") : /*#__PURE__*/React.createElement(Button, {\n    style: {\n      margin: \"10px\"\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: () => hnadleUnFollowUSer(user),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 37\n    }\n  }, \"UnFollow\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, \" Your Posts : \"), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }), userPosts === null || userPosts === void 0 ? void 0 : userPosts.map(item => {\n    return /*#__PURE__*/React.createElement(Card, {\n      sx: {\n        maxWidth: 345\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      avatar: /*#__PURE__*/React.createElement(Avatar, {\n        alt: user === null || user === void 0 ? void 0 : user.name,\n        src: user === null || user === void 0 ? void 0 : user.imageUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 41\n        }\n      }, user === null || user === void 0 ? void 0 : user.name.charAt(0)),\n      action: /*#__PURE__*/React.createElement(IconButton, {\n        \"aria-label\": \"settings\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 45\n        }\n      })),\n      title: user === null || user === void 0 ? void 0 : user.name,\n      subheader: moment(item.createdAt).fromNow(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(CardMedia, {\n      component: \"img\",\n      height: \"194\",\n      image: url + (item === null || item === void 0 ? void 0 : item.file),\n      alt: item === null || item === void 0 ? void 0 : item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }\n    }, item === null || item === void 0 ? void 0 : item.title)), /*#__PURE__*/React.createElement(CardActions, {\n      disableSpacing: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"add to favorites\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FavoriteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"share\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ShareIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(ExpandMore, {\n      expand: expanded,\n      onClick: handleExpandClick,\n      \"aria-expanded\": expanded,\n      \"aria-label\": \"show more\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Collapse, {\n      in: expanded,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 41\n      }\n    }, \"Method:\"), /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 41\n      }\n    }, \"Heat 1/2 cup of the broth in a pot until simmering, add saffron and set aside for 10 minutes.\"), /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 41\n      }\n    }, \"Heat oil in a (14- to 16-inch) paella pan or a large, deep skillet over medium-high heat. Add chicken, shrimp and chorizo, and cook, stirring occasionally until lightly browned, 6 to 8 minutes. Transfer shrimp to a large plate and set aside, leaving chicken and chorizo in the pan. Add piment\\xF3n, bay leaves, garlic, tomatoes, onion, salt and pepper, and cook, stirring often until thickened and fragrant, about 10 minutes. Add saffron broth and remaining 4 1/2 cups chicken broth; bring to a boil.\"), /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 41\n      }\n    }, \"Add rice and stir very gently to distribute. Top with artichokes and peppers, and cook without stirring, until most of the liquid is absorbed, 15 to 18 minutes. Reduce heat to medium-low, add reserved shrimp and mussels, tucking them down into the rice, and cook again without stirring, until mussels have opened and rice is just tender, 5 to 7 minutes more. (Discard any mussels that don't open.)\"), /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 41\n      }\n    }, \"Set aside off of the heat to let rest for 10 minutes, and then serve.\"))));\n  })));\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/Administrator/social_memories/client/src/components/UserProfile/Profile.js"],"names":["React","useEffect","useState","useDispatch","useSelector","useParams","useNavigate","moment","CircularProgress","Divider","Typography","Avatar","Button","Card","CardHeader","CardContent","CardMedia","IconButton","ButtonBase","CardActions","Skeleton","FavoriteIcon","ShareIcon","ExpandMoreIcon","MoreVertIcon","follow","unFollow","userProfile","Profile","id","user","userPosts","isLoading","state","posts","users","JSON","parse","localStorage","getItem","dispatch","url","navigate","followId","result","googleId","_id","showfollow","setShowFollow","following","includes","console","log","openPost","handleFollowUser","hnadleUnFollowUSer","unFollowId","maxWidth","margin","display","justifyContent","borderBottom","width","height","borderRadius","name","imageUrl","charAt","email","length","followers","map","item","createdAt","fromNow","file","title","expanded","handleExpandClick"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\n//packages\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\n// packages ui\r\nimport {\r\n    CircularProgress,\r\n    Divider,\r\n    Typography,\r\n    Avatar,\r\n    Button,\r\n    Card,\r\n    CardHeader,\r\n    CardContent,\r\n    CardMedia,\r\n    IconButton,\r\n    ButtonBase,\r\n    CardActions\r\n} from '@material-ui/core';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\n\r\n//component\r\nimport { follow, unFollow, userProfile } from '../../actions/Posts';\r\n\r\nconst Profile = () => {\r\n    const { id } = useParams();\r\n    const { user, userPosts, isLoading } = useSelector((state) => state.posts);\r\n    const users = JSON.parse(localStorage.getItem('profile'));\r\n    const dispatch = useDispatch()\r\n    const url = \"http://localhost:5000/\";\r\n    const navigate = useNavigate();\r\n    const followId = users?.result?.googleId || users?.result?._id;\r\n    const [showfollow, setShowFollow] = useState(user ? !user?.following?.includes(followId) : true)\r\n    console.log(followId)\r\n    //dispatch user profile req\r\n    useEffect(() => {\r\n        dispatch(userProfile(id));\r\n    }, [id]);\r\n\r\n    //post deatil page \r\n    const openPost = (id) => navigate(`/posts/${id}`);\r\n\r\n    /**\r\n     * follow user by user id\r\n     * @param {object} user \r\n     */\r\n    const handleFollowUser = (user) => {\r\n        dispatch(follow(followId, user));\r\n        setShowFollow(false)\r\n    };\r\n\r\n    /**\r\n     * unfollow user \r\n     * @param {object} user \r\n     */\r\n    const hnadleUnFollowUSer = (user) => {\r\n        const unFollowId = followId;\r\n        dispatch(unFollow(unFollowId, user));\r\n        setShowFollow(true)\r\n    };\r\n\r\n    return (\r\n        isLoading ? <CircularProgress /> : (\r\n            <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n                <div style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-around\",\r\n                    margin: \"18px 0px\",\r\n                    borderBottom: \"1px solid grey\"\r\n                }}>\r\n                    <div>\r\n                        <Avatar\r\n                            style={{ width: \"160px\", height: \"160px\", borderRadius: \"80px\" }}\r\n                            alt={user?.name}\r\n                            src={user?.imageUrl}\r\n                        >\r\n                            {user?.name.charAt(0)}\r\n                        </Avatar>\r\n                    </div>\r\n                    <div>\r\n                        <Typography variant=\"h6\"> {user?.name}</Typography>\r\n                        <Typography variant=\"h6\">{user?.email}</Typography>\r\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"108%\" }}>\r\n                            <h6>{userPosts?.length} posts</h6>\r\n                            <h6>{user?.followers?.length} followers</h6>\r\n                            <h6>{user?.following?.length} following</h6>\r\n                        </div>\r\n                        {users?.result?._id === user?._id ? (null) : (\r\n                            <>\r\n                                {showfollow ? (\r\n                                    <Button\r\n                                        style={{\r\n                                            margin: \"10px\"\r\n                                        }}\r\n                                        variant='outlined'\r\n                                        color='primary'\r\n                                        onClick={() => handleFollowUser(user)}\r\n                                    >Follow\r\n                                    </Button>\r\n                                ) : (\r\n                                    <Button\r\n                                        style={{\r\n                                            margin: \"10px\"\r\n                                        }}\r\n                                        variant='contained'\r\n                                        color='primary'\r\n                                        onClick={() => hnadleUnFollowUSer(user)}\r\n                                    >UnFollow\r\n                                    </Button>\r\n                                )}\r\n                            </>)\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"gallery\">\r\n                    <Typography gutterBottom variant='h5'> Your Posts : </Typography>\r\n                    <Divider />\r\n                    {/* user posts */}\r\n                    {userPosts?.map(item => {\r\n                        return (\r\n                            <Card sx={{ maxWidth: 345 }}>\r\n                                <CardHeader\r\n                                    avatar={\r\n                                        <Avatar\r\n                                            alt={user?.name}\r\n                                            src={user?.imageUrl}\r\n                                        >\r\n                                            {user?.name.charAt(0)}\r\n                                        </Avatar>\r\n                                    }\r\n                                    action={\r\n                                        <IconButton aria-label=\"settings\">\r\n                                            <MoreVertIcon />\r\n                                        </IconButton>\r\n                                    }\r\n                                    title={user?.name}\r\n                                    subheader={moment(item.createdAt).fromNow()}\r\n                                />\r\n                                <CardMedia\r\n                                    component=\"img\"\r\n                                    height=\"194\"\r\n                                    image={url + item?.file}\r\n                                    alt={item?.title}\r\n                                />\r\n                                <CardContent>\r\n                                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                        {item?.title}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                                <CardActions disableSpacing>\r\n                                    <IconButton aria-label=\"add to favorites\">\r\n                                        <FavoriteIcon />\r\n                                    </IconButton>\r\n                                    <IconButton aria-label=\"share\">\r\n                                        <ShareIcon />\r\n                                    </IconButton>\r\n                                    <ExpandMore\r\n                                        expand={expanded}\r\n                                        onClick={handleExpandClick}\r\n                                        aria-expanded={expanded}\r\n                                        aria-label=\"show more\"\r\n                                    >\r\n                                        <ExpandMoreIcon />\r\n                                    </ExpandMore>\r\n                                </CardActions>\r\n                                <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                                    <CardContent>\r\n                                        <Typography paragraph>Method:</Typography>\r\n                                        <Typography paragraph>\r\n                                            Heat 1/2 cup of the broth in a pot until simmering, add saffron and set\r\n                                            aside for 10 minutes.\r\n                                        </Typography>\r\n                                        <Typography paragraph>\r\n                                            Heat oil in a (14- to 16-inch) paella pan or a large, deep skillet over\r\n                                            medium-high heat. Add chicken, shrimp and chorizo, and cook, stirring\r\n                                            occasionally until lightly browned, 6 to 8 minutes. Transfer shrimp to a\r\n                                            large plate and set aside, leaving chicken and chorizo in the pan. Add\r\n                                            pimentón, bay leaves, garlic, tomatoes, onion, salt and pepper, and cook,\r\n                                            stirring often until thickened and fragrant, about 10 minutes. Add\r\n                                            saffron broth and remaining 4 1/2 cups chicken broth; bring to a boil.\r\n                                        </Typography>\r\n                                        <Typography paragraph>\r\n                                            Add rice and stir very gently to distribute. Top with artichokes and\r\n                                            peppers, and cook without stirring, until most of the liquid is absorbed,\r\n                                            15 to 18 minutes. Reduce heat to medium-low, add reserved shrimp and\r\n                                            mussels, tucking them down into the rice, and cook again without\r\n                                            stirring, until mussels have opened and rice is just tender, 5 to 7\r\n                                            minutes more. (Discard any mussels that don&apos;t open.)\r\n                                        </Typography>\r\n                                        <Typography>\r\n                                            Set aside off of the heat to let rest for 10 minutes, and then serve.\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                </Collapse>\r\n                            </Card>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div >\r\n        )\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}