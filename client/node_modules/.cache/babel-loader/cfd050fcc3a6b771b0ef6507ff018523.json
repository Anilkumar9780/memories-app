{"ast":null,"code":"var _jsxFileName = \"/home/anil/memories-app/client/src/components/UserProfile/Profile.js\";\nimport React, { useEffect, useState } from 'react'; //packages\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport moment from 'moment'; // packages ui\n\nimport { CircularProgress, Divider, Typography, Avatar, Button, Card, CardHeader, CardContent, CardMedia, IconButton, CardActions, Collapse } from '@material-ui/core';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { styled } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'; //component\n\nimport { follow, unFollow, userProfile } from '../../actions/Posts';\nconst ExpandMore = styled(props => {\n  const {\n    expand,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(IconButton, Object.assign({}, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }\n  }));\n})(({\n  theme,\n  expand\n}) => ({\n  transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\n  marginLeft: 'auto',\n  transition: theme.transitions.create('transform', {\n    duration: theme.transitions.duration.shortest\n  })\n}));\n\nconst Profile = () => {\n  var _users$result, _users$result2, _user$following, _user$followers, _user$following2, _users$result3;\n\n  const {\n    id\n  } = useParams();\n  const {\n    user,\n    userPosts,\n    isLoading\n  } = useSelector(state => state.posts);\n  const [following, setFollowing] = useState();\n  const users = JSON.parse(localStorage.getItem('profile'));\n  const dispatch = useDispatch();\n  const url = \"http://localhost:5000/\";\n  const navigate = useNavigate();\n  const [showButton, setShowButton] = useState(false);\n  const followId = (users === null || users === void 0 ? void 0 : (_users$result = users.result) === null || _users$result === void 0 ? void 0 : _users$result.googleId) || (users === null || users === void 0 ? void 0 : (_users$result2 = users.result) === null || _users$result2 === void 0 ? void 0 : _users$result2._id);\n  const [expanded, setExpanded] = React.useState(false); // more message\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  }; //dispatch user profile req\n\n\n  useEffect(() => {\n    dispatch(userProfile(id));\n  }, [id]); //post deatil page \n\n  const openPost = id => navigate(`/posts/${id}`);\n  /**\n   * follow user by user id\n   * @param {object} user \n   */\n\n\n  const handleFollowUser = user => {\n    dispatch(follow(followId, user, setFollowing));\n    setShowButton(true);\n  };\n  /**\n   * unfollow user \n   * @param {object} user \n   */\n\n\n  const hnadleUnFollowUSer = user => {\n    const unFollowId = followId;\n    dispatch(unFollow(unFollowId, user, setFollowing));\n    setShowButton(true);\n  }; // show button follow and unfollow user \n\n\n  const filteredFollowingUser = user === null || user === void 0 ? void 0 : (_user$following = user.following) === null || _user$following === void 0 ? void 0 : _user$following.includes(followId);\n  return isLoading ? /*#__PURE__*/React.createElement(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: \"550px\",\n      margin: \"0px auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\",\n      margin: \"18px 0px\",\n      borderBottom: \"1px solid grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    style: {\n      width: \"160px\",\n      height: \"160px\",\n      borderRadius: \"80px\"\n    },\n    alt: user === null || user === void 0 ? void 0 : user.name,\n    src: user === null || user === void 0 ? void 0 : user.imageUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, user === null || user === void 0 ? void 0 : user.name.charAt(0))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, \" \", user === null || user === void 0 ? void 0 : user.name), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, user === null || user === void 0 ? void 0 : user.email), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"108%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, userPosts === null || userPosts === void 0 ? void 0 : userPosts.length, \" posts\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, user === null || user === void 0 ? void 0 : (_user$followers = user.followers) === null || _user$followers === void 0 ? void 0 : _user$followers.length, \" followers\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, (following === null || following === void 0 ? void 0 : following.length) === 1 ? /*#__PURE__*/React.createElement(React.Fragment, null, following === null || following === void 0 ? void 0 : following.length) : /*#__PURE__*/React.createElement(React.Fragment, null, user === null || user === void 0 ? void 0 : (_user$following2 = user.following) === null || _user$following2 === void 0 ? void 0 : _user$following2.length), \" following\")), (users === null || users === void 0 ? void 0 : (_users$result3 = users.result) === null || _users$result3 === void 0 ? void 0 : _users$result3._id) === (user === null || user === void 0 ? void 0 : user._id) ? null : /*#__PURE__*/React.createElement(React.Fragment, null, filteredFollowingUser || showButton ? /*#__PURE__*/React.createElement(Button, {\n    style: {\n      margin: \"10px\"\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: () => hnadleUnFollowUSer(user),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 37\n    }\n  }, \"UnFollow\") : /*#__PURE__*/React.createElement(Button, {\n    style: {\n      margin: \"10px\"\n    },\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: () => handleFollowUser(user),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 37\n    }\n  }, \"Follow\")), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, \"ChangePassword\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, \" Your Posts : \"), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }), userPosts === null || userPosts === void 0 ? void 0 : userPosts.map(item => {\n    var _item$tags;\n\n    return /*#__PURE__*/React.createElement(Card, {\n      sx: {\n        maxWidth: 845\n      },\n      key: item._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      avatar: /*#__PURE__*/React.createElement(Avatar, {\n        alt: user === null || user === void 0 ? void 0 : user.name,\n        src: user === null || user === void 0 ? void 0 : user.imageUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 41\n        }\n      }, user === null || user === void 0 ? void 0 : user.name.charAt(0)),\n      action: /*#__PURE__*/React.createElement(IconButton, {\n        \"aria-label\": \"settings\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 45\n        }\n      })),\n      title: user === null || user === void 0 ? void 0 : user.name,\n      subheader: moment(item.createdAt).fromNow(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(CardMedia, {\n      component: \"img\",\n      height: \"194\",\n      image: url + (item === null || item === void 0 ? void 0 : item.file),\n      alt: item === null || item === void 0 ? void 0 : item.title,\n      onClick: () => openPost(item._id),\n      style: {\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      component: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 37\n      }\n    }, (_item$tags = item.tags) === null || _item$tags === void 0 ? void 0 : _item$tags.map(tag => `#${tag} `)), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 37\n      }\n    }, item === null || item === void 0 ? void 0 : item.title)), /*#__PURE__*/React.createElement(CardActions, {\n      disableSpacing: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"add to favorites\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ThumbUpAltIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 41\n      }\n    }), \"\\xA0\", /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: \"16px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 41\n      }\n    }, item === null || item === void 0 ? void 0 : item.likes.length, \" \", item.likes.length === 1 ? 'Like' : 'Likes')), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"share\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(CommentIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 41\n      }\n    }), \"\\xA0\", /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: \"16px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 41\n      }\n    }, item === null || item === void 0 ? void 0 : item.comments.length, \" \", (item === null || item === void 0 ? void 0 : item.comments.length) === 0 ? 'comment' : 'comments')), /*#__PURE__*/React.createElement(ExpandMore, {\n      expand: expanded,\n      onClick: handleExpandClick,\n      \"aria-expanded\": expanded,\n      \"aria-label\": \"show more\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Collapse, {\n      in: expanded,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 41\n      }\n    }, \"Message:\"), /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 41\n      }\n    }, item.message))));\n  })));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/home/anil/memories-app/client/src/components/UserProfile/Profile.js"],"names":["React","useEffect","useState","useDispatch","useSelector","useParams","useNavigate","moment","CircularProgress","Divider","Typography","Avatar","Button","Card","CardHeader","CardContent","CardMedia","IconButton","CardActions","Collapse","CommentIcon","ThumbUpAltIcon","MoreVertIcon","styled","ExpandMoreIcon","follow","unFollow","userProfile","ExpandMore","props","expand","other","theme","transform","marginLeft","transition","transitions","create","duration","shortest","Profile","id","user","userPosts","isLoading","state","posts","following","setFollowing","users","JSON","parse","localStorage","getItem","dispatch","url","navigate","showButton","setShowButton","followId","result","googleId","_id","expanded","setExpanded","handleExpandClick","openPost","handleFollowUser","hnadleUnFollowUSer","unFollowId","filteredFollowingUser","includes","maxWidth","margin","display","justifyContent","borderBottom","width","height","borderRadius","name","imageUrl","charAt","email","length","followers","map","item","createdAt","fromNow","file","title","cursor","tags","tag","fontSize","likes","comments","message"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\n//packages\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport moment from 'moment';\n\n// packages ui\nimport {\n    CircularProgress,\n    Divider,\n    Typography,\n    Avatar,\n    Button,\n    Card,\n    CardHeader,\n    CardContent,\n    CardMedia,\n    IconButton,\n    CardActions,\n    Collapse\n} from '@material-ui/core';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { styled } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\n//component\nimport { follow, unFollow, userProfile } from '../../actions/Posts';\n\n\nconst ExpandMore = styled((props) => {\n    const { expand, ...other } = props;\n    return <IconButton {...other} />;\n})(({ theme, expand }) => ({\n    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest,\n    }),\n}));\n\nconst Profile = () => {\n    const { id } = useParams();\n    const { user, userPosts, isLoading } = useSelector((state) => state.posts);\n    const [following, setFollowing] = useState();\n    const users = JSON.parse(localStorage.getItem('profile'));\n    const dispatch = useDispatch()\n    const url = \"http://localhost:5000/\";\n    const navigate = useNavigate();\n    const [showButton, setShowButton] = useState(false);\n    const followId = users?.result?.googleId || users?.result?._id;\n    const [expanded, setExpanded] = React.useState(false);\n\n    // more message\n    const handleExpandClick = () => {\n        setExpanded(!expanded);\n    };\n    //dispatch user profile req\n    useEffect(() => {\n        dispatch(userProfile(id));\n    }, [id]);\n\n    //post deatil page \n    const openPost = (id) => navigate(`/posts/${id}`);\n\n    /**\n     * follow user by user id\n     * @param {object} user \n     */\n    const handleFollowUser = (user) => {\n        dispatch(follow(followId, user, setFollowing));\n        setShowButton(true);\n    };\n\n    /**\n     * unfollow user \n     * @param {object} user \n     */\n    const hnadleUnFollowUSer = (user) => {\n        const unFollowId = followId;\n        dispatch(unFollow(unFollowId, user, setFollowing));\n        setShowButton(true);\n    };\n\n    // show button follow and unfollow user \n    const filteredFollowingUser = user?.following?.includes(followId)\n\n    return (\n        isLoading ? <CircularProgress /> : (\n            <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\n                <div style={{\n                    display: \"flex\",\n                    justifyContent: \"space-around\",\n                    margin: \"18px 0px\",\n                    borderBottom: \"1px solid grey\"\n                }}>\n\n                    <div>\n                        <Avatar\n                            style={{ width: \"160px\", height: \"160px\", borderRadius: \"80px\" }}\n                            alt={user?.name}\n                            src={user?.imageUrl}\n                        >\n                            {user?.name.charAt(0)}\n                        </Avatar>\n                    </div>\n                    <div>\n                        <Typography variant=\"h6\"> {user?.name}</Typography>\n                        <Typography variant=\"h6\">{user?.email}</Typography>\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"108%\" }}>\n                            <h6>{userPosts?.length} posts</h6>\n                            <h6>{user?.followers?.length} followers</h6>\n                            <h6>{following?.length === 1 ?\n                                (<>{following?.length}</>\n                                ) : (\n                                    <>{user?.following?.length}</>)\n                            } following\n                            </h6>\n                        </div>\n                        {users?.result?._id === user?._id ? (null) : (\n                            <>\n                                {filteredFollowingUser || showButton ? (\n                                    <Button\n                                        style={{\n                                            margin: \"10px\"\n                                        }}\n                                        variant='contained'\n                                        color='primary'\n                                        onClick={() => hnadleUnFollowUSer(user)}\n                                    >UnFollow\n                                    </Button>\n                                ) : (\n                                    <Button\n                                        style={{\n                                            margin: \"10px\"\n                                        }}\n                                        variant='outlined'\n                                        color='primary'\n                                        onClick={() => handleFollowUser(user)}\n                                    >Follow\n                                    </Button>\n                                )}\n                            </>)\n                        }\n                        <Button\n                            variant='outlined'\n                            color='primary'\n                        >\n                            ChangePassword\n                        </Button>\n                    </div>\n                </div>\n                <div className=\"gallery\">\n                    <Typography gutterBottom variant='h5'> Your Posts : </Typography>\n                    <Divider />\n                    {/* user posts */}\n                    {userPosts?.map(item => {\n                        return (\n                            <Card sx={{ maxWidth: 845 }} key={item._id}>\n                                <CardHeader\n                                    avatar={\n                                        <Avatar\n                                            alt={user?.name}\n                                            src={user?.imageUrl}\n                                        >\n                                            {user?.name.charAt(0)}\n                                        </Avatar>\n                                    }\n                                    action={\n                                        <IconButton aria-label=\"settings\">\n                                            <MoreVertIcon />\n                                        </IconButton>\n                                    }\n                                    title={user?.name}\n                                    subheader={moment(item.createdAt).fromNow()}\n                                />\n                                <CardMedia\n                                    component=\"img\"\n                                    height=\"194\"\n                                    image={url + item?.file}\n                                    alt={item?.title}\n                                    onClick={() => openPost(item._id)}\n                                    style={{ cursor: \"pointer\" }}\n                                />\n                                <CardContent>\n                                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">{item.tags?.map((tag) => `#${tag} `)}</Typography>\n                                    <Typography variant=\"body2\" color=\"text.secondary\">\n                                        {item?.title}\n                                    </Typography>\n                                </CardContent>\n                                <CardActions disableSpacing>\n                                    <IconButton aria-label=\"add to favorites\">\n                                        <ThumbUpAltIcon />\n                                        &nbsp;\n                                        <p style={{ fontSize: \"16px\", }}>\n                                            {item?.likes.length} {item.likes.length === 1 ? 'Like' : 'Likes'}\n                                        </p>\n                                    </IconButton>\n                                    <IconButton aria-label=\"share\">\n                                        <CommentIcon />\n                                        &nbsp;\n                                        <p style={{ fontSize: \"16px\", }}>\n                                            {item?.comments.length} {item?.comments.length === 0 ? 'comment' : 'comments'}\n                                        </p>\n                                    </IconButton>\n                                    <ExpandMore\n                                        expand={expanded}\n                                        onClick={handleExpandClick}\n                                        aria-expanded={expanded}\n                                        aria-label=\"show more\"\n                                    >\n                                        <ExpandMoreIcon />\n                                    </ExpandMore>\n                                </CardActions>\n                                <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n                                    <CardContent>\n                                        <Typography paragraph>Message:</Typography>\n                                        <Typography paragraph>\n                                            {item.message}\n                                        </Typography>\n                                    </CardContent>\n                                </Collapse>\n                            </Card>\n                        )\n                    })}\n                </div>\n            </div >\n        )\n    );\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}